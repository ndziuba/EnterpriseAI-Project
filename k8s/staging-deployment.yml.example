apiVersion: resources.yatai.ai/v1alpha1
kind: BentoRequest
metadata:
    name: staging
    namespace: yatai
spec:
    bentoTag: iris_classifier:2l5ttea4a2t4gasc
---
apiVersion: serving.yatai.ai/v2alpha1
kind: BentoDeployment
metadata:
    name: staging
    namespace: yatai
spec:
    bento: staging
    ingress:
        enabled: true
        tls:
            secretName: yatai.${DOMAIN}
    resources:
        limits:
            cpu: "500m"
            memory: "512Mi"
        requests:
            cpu: "250m"
            memory: "256Mi"
    autoscaling:
        maxReplicas: 2
        minReplicas: 1
    runners:
        - name: iris_clf
          resources:
              limits:
                  cpu: "500m"
                  memory: "500Mi"
              requests:
                  cpu: "200m"
                  memory: "200Mi"
          autoscaling:
              maxReplicas: 2
              minReplicas: 1
